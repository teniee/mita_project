{
  "timestamp": "2025-09-03T13:23:24.327403",
  "critical_issues": [
    {
      "timestamp": "2025-09-03T13:23:27.753469",
      "issue": "DUAL MIGRATION SYSTEMS: Both alembic/ and migrations/ exist"
    },
    {
      "timestamp": "2025-09-03T13:23:27.754567",
      "issue": "Newer migrations exist that may not be applied: ['0003_budget_advice_table.py', '0006_transactions_user_created_at_idx.py', '0005_push_token_platform.py', '0007_ai_advice_templates.py', '0001_initial.py', '0004_user_timezone.py', '0002_subscription_plan_dates.py']"
    },
    {
      "timestamp": "2025-09-03T13:23:27.759656",
      "issue": "Database schema analysis failed: invalid dsn: invalid connection option \"postgresql+psycopg2://postgres.atdcxppfflmiwjwjuqyl:33SatinSatin11Satin@aws-0-us-east-2.pooler.supabase.com:5432/postgres?sslmode\"\n"
    },
    {
      "timestamp": "2025-09-03T13:23:27.759693",
      "issue": "Data integrity check failed: invalid dsn: invalid connection option \"postgresql+psycopg2://postgres.atdcxppfflmiwjwjuqyl:33SatinSatin11Satin@aws-0-us-east-2.pooler.supabase.com:5432/postgres?sslmode\"\n"
    }
  ],
  "warnings": [
    {
      "timestamp": "2025-09-03T13:23:28.619856",
      "warning": "Pool size 5 test failed: Tenant or user not found"
    },
    {
      "timestamp": "2025-09-03T13:23:29.480654",
      "warning": "Pool size 10 test failed: Tenant or user not found"
    },
    {
      "timestamp": "2025-09-03T13:23:30.271144",
      "warning": "Pool size 20 test failed: Tenant or user not found"
    }
  ],
  "recommendations": [],
  "migration_analysis": {
    "alembic_current": "0006_fix_financial_data_types (head)",
    "dual_systems": true,
    "alembic_migrations": [
      "0001_initial.py",
      "0002_mood.py",
      "0003_goals.py",
      "0004_user_premium_until.py",
      "0005_push_tokens.py",
      "0006_fix_financial_data_types.py",
      "a0d5ecc53667_sync_models.py"
    ],
    "newer_migrations": [
      "0001_initial.py",
      "0002_subscription_plan_dates.py",
      "0003_budget_advice_table.py",
      "0004_user_timezone.py",
      "0005_push_token_platform.py",
      "0006_transactions_user_created_at_idx.py",
      "0007_ai_advice_templates.py"
    ]
  },
  "schema_analysis": {},
  "data_integrity": {},
  "connection_analysis": {
    "pool_5": {
      "error": "Tenant or user not found"
    },
    "pool_10": {
      "error": "Tenant or user not found"
    },
    "pool_20": {
      "error": "Tenant or user not found"
    }
  }
}