# MITA Finance - Development Environment Configuration
# =======================================================
# Environment: Development
# Purpose: Local development with safety defaults
# Security: Minimal secrets required, safe fallbacks
# =======================================================

# ========================================
# ENVIRONMENT IDENTIFICATION
# ========================================
ENVIRONMENT=development
DEBUG=true
LOG_LEVEL=DEBUG

# ========================================
# DEVELOPMENT DATABASE
# ========================================
# Local PostgreSQL for development
DATABASE_URL=postgresql+asyncpg://postgres:dev_password@localhost:5432/mita_dev
POSTGRES_USER=postgres
POSTGRES_PASSWORD=dev_password
POSTGRES_DB=mita_dev
POSTGRES_PORT=5432

# ========================================
# DEVELOPMENT REDIS
# ========================================
# Local Redis for development (optional)
REDIS_URL=redis://localhost:6379/0
REDIS_PASSWORD=
REDIS_PORT=6379
REDIS_MAX_CONNECTIONS=10
REDIS_TIMEOUT=10

# ========================================
# DEVELOPMENT SECURITY
# ========================================
# Development-only secrets (auto-generated if missing)
JWT_SECRET=dev_jwt_secret_32_chars_minimum_for_development
JWT_PREVIOUS_SECRET=dev_previous_jwt_secret_for_testing_rotation
SECRET_KEY=dev_secret_key_32_chars_minimum_for_development
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=120  # Extended for development convenience

# ========================================
# DEVELOPMENT EXTERNAL SERVICES
# ========================================
# OpenAI (use test key or disable)
OPENAI_API_KEY=sk-test-key-for-development
OPENAI_MODEL=gpt-4o-mini

# Firebase (test configuration)
GOOGLE_APPLICATION_CREDENTIALS=./config/firebase-dev-service-account.json

# Apple services (sandbox/test)
APPSTORE_SHARED_SECRET=dev_appstore_shared_secret
APNS_KEY=./config/apns-dev-key.p8
APNS_KEY_ID=DEV_APNS_KEY_ID
APNS_TEAM_ID=DEV_APNS_TEAM_ID
APNS_TOPIC=com.mita.finance.dev
APNS_USE_SANDBOX=true

# ========================================
# DEVELOPMENT EMAIL
# ========================================
# Local email testing
SMTP_HOST=localhost
SMTP_PORT=1025  # MailHog or similar local email server
SMTP_USERNAME=
SMTP_PASSWORD=
SMTP_FROM=dev@localhost

# ========================================
# DEVELOPMENT MONITORING
# ========================================
# Disabled or minimal monitoring
SENTRY_DSN=
PROMETHEUS_MULTIPROC_DIR=/tmp/prometheus_multiproc_dev

# ========================================
# DEVELOPMENT CORS
# ========================================
# Permissive CORS for development
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:8080,http://127.0.0.1:3000,http://localhost:5173

# ========================================
# DEVELOPMENT INFRASTRUCTURE
# ========================================
BACKEND_PORT=8000
HOST=127.0.0.1

# ========================================
# DEVELOPMENT AWS (Optional)
# ========================================
# Leave empty for development (no backups needed)
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
AWS_DEFAULT_REGION=us-east-1
BACKUP_BUCKET=

# ========================================
# DEVELOPMENT FEATURE FLAGS
# ========================================
FEATURE_FLAGS_DEBUG_LOGGING=true
FEATURE_FLAGS_ENHANCED_RATE_LIMITING=false
FEATURE_FLAGS_CIRCUIT_BREAKER=false
FEATURE_FLAGS_ADMIN_ENDPOINTS=true
FEATURE_FLAGS_ADVANCED_OCR=false

# ========================================
# DEVELOPMENT TASK QUEUE
# ========================================
WORKER_MAX_JOBS=10
WORKER_JOB_TIMEOUT=60
ENABLE_WORKER_AUTOSCALING=false
ENABLE_TASK_METRICS=true